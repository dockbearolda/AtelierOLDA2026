<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Atelier OLDA - Catalogue Premium</title>
    <style>
        /* Reset & Base */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Inter', sans-serif;
            background-color: #fafafa;
            padding: 40px 20px;
            width: 100%;
            overflow-x: hidden;
        }

        /* Container */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 32px;
        }

        /* Product Card */
        .product-card {
            background-color: #ffffff;
            border-radius: 20px;
            padding: 32px 24px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.04), 0 8px 24px rgba(0,0,0,0.06);
            transition: all 0.3s ease-in-out;
            display: flex;
            flex-direction: column;
            border: 1px solid rgba(0,0,0,0.04);
        }

        .product-card:hover {
            transform: scale(1.05) translateY(-4px);
            box-shadow: 0 4px 16px rgba(0,0,0,0.08), 0 16px 48px rgba(0,0,0,0.12);
        }

        /* Image Container */
        .image-container {
            width: 100%;
            min-height: 250px;
            background-color: #ffffff;
            border-radius: 16px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            padding: 24px;
            position: relative;
        }

        /* Skeleton Loading */
        @keyframes shimmer {
            0% {
                background-position: -1000px 0;
            }
            100% {
                background-position: 1000px 0;
            }
        }

        .skeleton {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                #f0f0f0 0%,
                #e0e0e0 20%,
                #f0f0f0 40%,
                #f0f0f0 100%
            );
            background-size: 1000px 100%;
            animation: shimmer 2s infinite;
            border-radius: 16px;
        }

        .skeleton.loaded {
            display: none;
        }

        .product-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }

        .product-image.loaded {
            opacity: 1;
        }

        /* Product Info */
        .product-info {
            margin-bottom: 16px;
            text-align: left;
            padding-left: 4px;
        }

        .product-name {
            margin: 0 0 6px 0;
            font-size: 16px;
            font-weight: 500;
            color: #1d1d1f;
            line-height: 1.4;
            letter-spacing: -0.2px;
        }

        .product-color {
            margin: 0 0 4px 0;
            font-size: 13px;
            color: #6e6e73;
            font-weight: 400;
        }

        .product-description {
            margin: 0 0 4px 0;
            font-size: 11px;
            color: #86868b;
            font-weight: 400;
            font-style: italic;
        }

        .product-ref {
            margin: 0;
            font-size: 11px;
            color: #86868b;
            font-weight: 400;
            letter-spacing: 0.3px;
        }

        /* Size Selector */
        .size-selector {
            display: flex;
            gap: 8px;
            justify-content: center;
            margin-bottom: 12px;
            padding-top: 8px;
        }

        .size-button {
            min-width: 40px;
            height: 32px;
            padding: 0 12px;
            border: 1px solid #d2d2d7;
            border-radius: 8px;
            background-color: white;
            color: #1d1d1f;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease-in-out;
        }

        .size-button:hover {
            border-color: #0071e3;
        }

        .size-button.active {
            background-color: #0071e3;
            border-color: #0071e3;
            color: white;
        }

        /* Quantity Control */
        .quantity-control {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-bottom: 8px;
        }

        .qty-button {
            width: 32px;
            height: 32px;
            border: 1px solid #d2d2d7;
            border-radius: 50%;
            cursor: pointer;
            background-color: white;
            font-size: 16px;
            color: #1d1d1f;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease-in-out;
        }

        .qty-button:hover {
            background-color: #f5f5f7;
        }

        .quantity {
            font-size: 15px;
            font-weight: 600;
            min-width: 24px;
            text-align: center;
        }

        /* Add Button */
        .add-button {
            width: 100%;
            padding: 10px;
            background-color: #0071e3;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            transition: all 0.3s ease-in-out;
            transform: scale(1);
        }

        .add-button:hover {
            background-color: #0077ed;
        }

        .add-button.added {
            background-color: #34c759;
            transform: scale(0.95);
        }

        /* Responsive */
        @media (max-width: 767px) {
            .container {
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
                padding: 16px 12px;
            }

            .product-card {
                padding: 16px 12px;
            }

            .image-container {
                min-height: 150px;
                padding: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Carte Produit 1: T-shirt Bleu -->
        <div class="product-card">
            <div class="image-container">
                <div class="skeleton" id="skeleton-1"></div>
                <img
                    src="/images/mugs/tshirtns300bleu.jpeg"
                    alt="T-shirt unisexe Olda"
                    class="product-image"
                    id="img-1"
                    onload="imageLoaded(1)"
                >
            </div>
            <div class="product-info">
                <h3 class="product-name">T-shirt unisexe Olda</h3>
                <p class="product-color">Blue Sapphire</p>
                <p class="product-description">155 g/m² 100% coton biologique</p>
                <p class="product-ref">H-001</p>
            </div>
            <div class="size-selector">
                <button class="size-button" onclick="selectSize(1, 'S', this)">S</button>
                <button class="size-button active" onclick="selectSize(1, 'M', this)">M</button>
                <button class="size-button" onclick="selectSize(1, 'L', this)">L</button>
                <button class="size-button" onclick="selectSize(1, 'XL', this)">XL</button>
            </div>
            <div class="quantity-control">
                <button class="qty-button" onclick="adjustQuantity(1, -1)">−</button>
                <span class="quantity" id="qty-1">3</span>
                <button class="qty-button" onclick="adjustQuantity(1, 1)">+</button>
            </div>
            <button class="add-button" id="btn-1" onclick="addToCart(1, this)">Ajouter</button>
        </div>

        <!-- Carte Produit 2: Tasse Rose -->
        <div class="product-card">
            <div class="image-container">
                <div class="skeleton" id="skeleton-2"></div>
                <img
                    src="/images/mugs/roseblanc.jpg"
                    alt="Tasse Ceramique Rose"
                    class="product-image"
                    id="img-2"
                    onload="imageLoaded(2)"
                >
            </div>
            <div class="product-info">
                <h3 class="product-name">Tasse Céramique</h3>
                <p class="product-color">Rose & Blanc</p>
                <p class="product-ref">TC 01</p>
            </div>
            <div class="quantity-control">
                <button class="qty-button" onclick="adjustQuantity(2, -1)">−</button>
                <span class="quantity" id="qty-2">3</span>
                <button class="qty-button" onclick="adjustQuantity(2, 1)">+</button>
            </div>
            <button class="add-button" id="btn-2" onclick="addToCart(2, this)">Ajouter</button>
        </div>

        <!-- Carte Produit 3: Tasse Rouge -->
        <div class="product-card">
            <div class="image-container">
                <div class="skeleton" id="skeleton-3"></div>
                <img
                    src="/images/mugs/rougeblanc.jpg"
                    alt="Tasse Ceramique Rouge"
                    class="product-image"
                    id="img-3"
                    onload="imageLoaded(3)"
                >
            </div>
            <div class="product-info">
                <h3 class="product-name">Tasse Céramique</h3>
                <p class="product-color">Rouge & Blanc</p>
                <p class="product-ref">TC 02</p>
            </div>
            <div class="quantity-control">
                <button class="qty-button" onclick="adjustQuantity(3, -1)">−</button>
                <span class="quantity" id="qty-3">3</span>
                <button class="qty-button" onclick="adjustQuantity(3, 1)">+</button>
            </div>
            <button class="add-button" id="btn-3" onclick="addToCart(3, this)">Ajouter</button>
        </div>

        <!-- Carte Produit 4: Tasse Verte -->
        <div class="product-card">
            <div class="image-container">
                <div class="skeleton" id="skeleton-4"></div>
                <img
                    src="/images/mugs/vertblanc.jpg"
                    alt="Tasse Ceramique Vert"
                    class="product-image"
                    id="img-4"
                    onload="imageLoaded(4)"
                >
            </div>
            <div class="product-info">
                <h3 class="product-name">Tasse Céramique</h3>
                <p class="product-color">Vert & Blanc</p>
                <p class="product-ref">TC 04</p>
            </div>
            <div class="quantity-control">
                <button class="qty-button" onclick="adjustQuantity(4, -1)">−</button>
                <span class="quantity" id="qty-4">3</span>
                <button class="qty-button" onclick="adjustQuantity(4, 1)">+</button>
            </div>
            <button class="add-button" id="btn-4" onclick="addToCart(4, this)">Ajouter</button>
        </div>
    </div>

    <script>
        // État des tailles sélectionnées
        const selectedSizes = { 1: 'M' };

        // Image Loading
        function imageLoaded(id) {
            const img = document.getElementById('img-' + id);
            const skeleton = document.getElementById('skeleton-' + id);
            img.classList.add('loaded');
            skeleton.classList.add('loaded');
        }

        // Size Selection
        function selectSize(productId, size, button) {
            // Retirer la classe active de tous les boutons de taille pour ce produit
            const parent = button.parentElement;
            parent.querySelectorAll('.size-button').forEach(btn => {
                btn.classList.remove('active');
            });

            // Ajouter la classe active au bouton cliqué
            button.classList.add('active');

            // Sauvegarder la taille sélectionnée
            selectedSizes[productId] = size;
        }

        // Quantity Control
        function adjustQuantity(id, delta) {
            const qtyElement = document.getElementById('qty-' + id);
            let currentQty = parseInt(qtyElement.textContent);
            let newQty = currentQty + delta;

            if (newQty >= 3 && newQty <= 99) {
                qtyElement.textContent = newQty;
            }
        }

        // Add to Cart with Haptic Feedback
        function addToCart(id, button) {
            // Vibration haptique (fonctionne sur mobile)
            if (navigator.vibrate) {
                navigator.vibrate(50); // Vibration de 50ms
            }

            // Animation du bouton
            button.classList.add('added');
            button.textContent = 'Ajouté ✓';

            // Effet de scale
            button.style.transform = 'scale(0.95)';

            // Remettre le bouton à l'état normal après 2 secondes
            setTimeout(() => {
                button.classList.remove('added');
                button.textContent = 'Ajouter';
                button.style.transform = 'scale(1)';
            }, 2000);

            // Log pour debug
            console.log('Produit ' + id + ' ajouté au panier');
            if (selectedSizes[id]) {
                console.log('Taille sélectionnée: ' + selectedSizes[id]);
            }
            console.log('Quantité: ' + document.getElementById('qty-' + id).textContent);
        }
    </script>
</body>
</html>
